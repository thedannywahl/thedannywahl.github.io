<!DOCTYPE html>
<html>

<!-- Mirrored from 127.0.0.1:2368/host-your-ghost-blog-on-github-pages/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Dec 2016 17:08:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Ghost on GitHub Pages With HTTrack - iyWare</title>
    <meta name="description" content="" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../assets/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.min543c.css?v=f30b9db75e" />
    <link rel="canonical" href="https://iyware.com/host-your-ghost-blog-on-github-pages/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://iyware.com/host-your-ghost-blog-on-github-pages/amp/" />
    
    <meta property="og:site_name" content="iyWare" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Ghost on GitHub Pages With HTTrack" />
    <meta property="og:description" content="I&#x27;ve written a little bit about this before but this site is currently created using a local copy of Ghost and then converted to a static HTML site and deployed to GitHub pages.  This post will overview how I do that. First I&#x27;d like to say that I am aware" />
    <meta property="og:url" content="https://iyware.com/host-your-ghost-blog-on-github-pages/" />
    <meta property="article:published_time" content="2015-02-04T05:41:23.000Z" />
    <meta property="article:modified_time" content="2015-02-04T05:44:51.000Z" />
    <meta property="article:tag" content="Ghost" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Ghost on GitHub Pages With HTTrack" />
    <meta name="twitter:description" content="I&#x27;ve written a little bit about this before but this site is currently created using a local copy of Ghost and then converted to a static HTML site and deployed to GitHub pages.  This post will overview how I do that. First I&#x27;d like to say that I am aware" />
    <meta name="twitter:url" content="https://iyware.com/host-your-ghost-blog-on-github-pages/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Danny Wahl" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ghost" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "iyWare",
        "logo": "https://iyware.com/content/images/2015/01/logo.png"
    },
    "author": {
        "@type": "Person",
        "name": "Danny Wahl",
        "image": "https://iyware.com/content/images/2015/03/dannywahl.jpg",
        "url": "https://iyware.com/author/danny/",
        "sameAs": [
            "https://iyware.com"
        ],
        "description": "My name is Danny Wahl and I provide consulting in IT and education. I dabble in writing, programming, design, and ukulele playing. Post content licensed CC-BY-4.0"
    },
    "headline": "Ghost on GitHub Pages With HTTrack",
    "url": "https://iyware.com/host-your-ghost-blog-on-github-pages/",
    "datePublished": "2015-02-04T05:41:23.000Z",
    "dateModified": "2015-02-04T05:44:51.000Z",
    "keywords": "Ghost",
    "description": "I&#x27;ve written a little bit about this before but this site is currently created using a local copy of Ghost and then converted to a static HTML site and deployed to GitHub pages.  This post will overview how I do that. First I&#x27;d like to say that I am aware",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://iyware.com"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11" />
    <link rel="alternate" type="application/rss+xml" title="iyWare" href="https://iyware.com/rss/" />
</head>
<body class="post-template tag-ghost-tag">
    

	<header role="banner" class="header-main no-image">
    		<ul class="nav">
    <li class="nav-home" role="presentation"><a href="https://iyware.com/">Home</a></li>
    <li class="nav-clients" role="presentation"><a href="https://iyware.com/clients/">Clients</a></li>
    <li class="nav-portfolio" role="presentation"><a href="https://iyware.com/tag/portfolio/">Portfolio</a></li>
    <li class="nav-search" role="presentation"><a href="https://iyware.com/search/">Search</a></li>
</ul>
		<h1>
    		<a href="https://iyware.com/">
            		<img src="../content/images/2015/01/logo.png" alt="iyWare">
			</a>
		</h1>
	</header>

    <article role="main" class="post tag-ghost-tag" data-swiftype-index="true">
    
        <header>
            <h1>Ghost on GitHub Pages With HTTrack</h1>

			<small class="meta">
						<a href="../author/danny/" class="author" style="background-image:url('../content/images/2015/03/dannywahl.jpg');"><img src="../content/images/2015/03/dannywahl.jpg" alt="Danny Wahl's picture"></a>
					<a href="../author/danny/">Danny Wahl</a>
				&nbsp;&bull;&nbsp;
				<time datetime="2015-02-04">February 04, 2015</time>
					&nbsp;&bull;&nbsp;
					<span class="tags"><a href="../tag/ghost-tag/">Ghost</a></span>
			</small>
        </header>

        <div class="text">
            <p>I've written a little bit about this before but this site is currently created using a local copy of <a href="https://tryghost.org/">Ghost</a> and then converted to a static HTML site and deployed to GitHub pages.  This post will overview how I do that.</p>

<p>First I'd like to say that I am aware of, and initially used, the tool <a href="https://github.com/axitkhurana/buster">Buster</a> (get it, Ghost Buster), it's a fine little utility that basically functions as a fancy <code>wget</code> wrapper, but it has some <a href="https://github.com/axitkhurana/buster/issues/">issues</a>.  Issues that were preventing this site from being fully functional.  In the author's defense- some of it may have actually been caused by <a href="http://brew.sh/">homebrew</a>'s wget.  So I decided to investigate an alternative toolset.</p>

<p>This bring us to <a href="http://www.httrack.com/">HTTrack</a>.  <code>httrack</code> is an alternative website downloader (like <code>wget</code>) and is available for just about <a href="http://www.httrack.com/page/2/en/">every platform</a>.  HTTrack has a lot of options, and if you need something fancy I recommend that you <a href="http://www.httrack.com/html/fcguide.html">read the guide</a>.  That said, here's a step-by-step to deploy your Ghost blog to GitHub Pages.</p>

<h2 id="initializeyourgitrepository">Initialize Your Git Repository</h2>

<p>I'll go over how to deploy to a user (or organization) page on <a href="https://help.github.com/articles/user-organization-and-project-pages/">Github Pages</a>.  If you need to do it for a project, just replace the user steps with the steps necessary for your repo, but generally it's just using the <code>gh-pages</code> branch instead of <code>master</code>.</p>

<p>Create the directory that you want to init as a git repository and open a terminal prompt in that directory.  HTTrack will create some meta files (a cache and a log) and clone your site to something that is ASCII safe.  So for example if your Ghost blog is running on <code>http://localhost:2368</code> which is the default, from your output directory HTTrack will create:</p>

<ul>
<li><code>./hts-cache/</code></li>
<li><code>./hts-log.txt</code></li>
<li><code>./localhost_2368/</code></li>
</ul>

<p>with <code>./localhost_2368/</code> containing your static site.  So you'll need to initialize your git repository there.  I have mine in <code>~/Sites/htdocs/iyware.com/localhost_2368/</code></p>

<pre><code class="language-bash">mkdir ~/Sites/htdocs/iyware.com/localhost_2368/  
cd ~/Sites/htdocs/iyware.com/localhost_2368/  
git init  
git checkout -b master  
git remote add origin git@github.com:[USER NAME]/[USER NAME].github.io.git  
</code></pre>

<p>A few notes here:</p>

<ol>
<li>Replace <code>[USER NAME]</code> with your user name, or organization name.  </li>
<li>Replace <code>-b master</code> with <code>-b gh-pages</code> if this is a project page.  </li>
<li>You don't have to use the SSH repository path, you can use HTTPS but you'll be prompted to authenticate every time you update your site. If you don't have <a href="https://help.github.com/articles/generating-ssh-keys/">SSH configured</a>, I strongly suggest you do it.</li>
<li>If you have things in your repository you might want to <code>git fetch</code> and <code>git merge</code> them- but you probably don't.  Even if you blow them away locally, they'll still be in your commit history.</li>
</ol>

<p>Initializing your Git repository is obviously a one time task.</p>

<h2 id="generateyourinitialstaticsite">Generate Your Initial Static Site</h2>

<p>One of the dowsides of HTTrack to wget is that it seems to be a bit slower.  One of the benefits that HTTrack has over wget is its cache.  That means that the first crawl of your site is going to be considerably slower than using wget (or buster) but updates to your site should be relatively quick.  Luckily we can begin the process with a single command.  The directory from where you run this command doesn't matter:</p>

<pre><code class="language-bash">httrack http://localhost:2368/ -O /PATH/TO/OUTPUT/FOLDER/ -c128 -I0 -#p "+sitemap*"  
</code></pre>

<p>Let's break this command down a little bit.  The first parameter is the path to the site you want to crawl, e.g. your ghost blog.  The second parameter <code>-O</code> is the path to the output folder.  You'll obviously need to replace <code>/PATH/TO/OUTPUT/FOLDER/</code> with your actual path (NOT the <code>localhost_2368</code> folder but it's parent.  Mine is <code>/Users/dannywahl/Sites/htdocs/iyware.com/</code>.  <code>-c128</code> means that we scrape with a rate of 128 simulatneous connections.  <code>-I0</code> tells httrack not to make a custom / file for the output and <code>-#p</code> is detailed output (verbose).</p>

<p>The <code>"+sitemap*"</code> tells httrack to explicitly to grab any links to a sitemap.  Ghost automatically generates a sitemap, but it uses <code>@blog.url</code> to populate them so httrack will not scrape them by default- so we need add this command.  This might be dangerous if you blog content contains a lot of links to other sites' sitemaps.  You might consider changing it to your Ghost blog url, e.g. <code>"+https://iyware.com/sitemap*"</code> to only grab your site's sitemap.</p>

<p>If it all goes right you'll see the progress of your site scrape in the terminal output like this:</p>

<pre><code class="language-bash">Mirror launched on Wed, 04 Feb 2015 12:06:11 by HTTrack Website Copier/3.48-19 [XR&amp;CO'2014]  
mirroring http://localhost:2368/ +/sitemap* with the wizard help..  
...
Thanks for using HTTrack!  
</code></pre>

<p>Now you should have a fully viewable static site in <code>/localhost_2368/</code> that is ready to deploy to GitHub Pages.</p>

<h2 id="deploytogithubpages">Deploy to GitHub Pages</h2>

<p>In terminal navigate back to the <code>/localhost_2368/</code> directory and commit at push your changes to GitHub:</p>

<pre><code class="language-bash">git add .  
git commit -m "Blog updated"  
git push -u origin master  
</code></pre>

<p>Now you should be able to visit your GitHub page and see the static version of your site.</p>

<h3 id="updateyourstaticsite">Update Your Static Site</h3>

<p>The next time you update your Ghost blog and you need to update your static site navigate to the folder containing <code>/localhost_2368/</code> and run this command:</p>

<pre><code class="language-bash">httrack -iC2  
</code></pre>

<p>This command updates your site and reuses your cache, you don't need to do a full re-scrape.  It will delete items that are remotely deleted, update changed assets, and it will add new files.  Then push to GitHub again.</p>

<h3 id="wrapitinashellscript">Wrap it in a Shell Script</h3>

<p>After the initial static site is created and the git repository is created it's quite a simple and repetitive task to update and deploy, so you can stick it all in a simple shell script like this:</p>

<pre><code class="language-bash"># working path
cd /Users/dannywahl/Sites/htdocs/iyware.com/

# update
httrack -iC2

# replace favicon
mv favicon.ico localhost_2368/favicon.ico

# deploy
cd /Users/dannywahl/Sites/htdocs/iyware.com/localhost_2368/

current_time=$(date -u +"%Y-%m-%d %T")  
git add .  
git commit -m "Blog update at $current_time"  
git push -u origin master  
echo "Deployed to github"  
</code></pre>

<p>I have that saved as a utility called <code>bustit</code> so now I can simply type <code>bustit</code> in terminal to deploy my updated blog.</p>

<p>It's not nearly as robust as <code>buster</code> but it very easily could be- it's the same wrapper for a site downloader and a git interface, I just didn't make it modular or extensible, maybe I will in the future.</p>

<h2 id="extras">Extras</h2>

<p>If you're not happy with the look of your sitemaps it's because <code>sitemap.xsl</code> is missing- you'll need to visit <code>http://localhost:2368/sitemap.xsl</code> and save that to the static site root (next to <code>sitemap.xml</code>).  I can't figure out how to get httrack (or buster) to download this- but you only need to do that the first time.  This file is not necessary.</p>

<p>If you're used to using <code>buster</code> it automatically adds a <code>README</code> file to your site.  You'll need to create that manually if you want it.  Same for <code>CNAME</code> and <code>robots.txt</code>.</p>

<p>Well that's all there is to it.  Create an initial static copy, update that copy when you update Ghost, and push to github.  Maybe in the future I'll rewrite this as a robust application because I think it would be cool to integrate it with AppleScript Folder Actions so that whenever the Ghost sqlite database is updated this triggers, but for now this works just fine.</p>
        </div>

        <section class="share">
        	<ul>
				<li>
					<a href="mailto:?&subject=iyWare%3A%20Ghost%20on%20GitHub%20Pages%20With%20HTTrack&body=Ghost%20on%20GitHub%20Pages%20With%20HTTrack%0D%0Ahttps://iyware.com/host-your-ghost-blog-on-github-pages/%0D%0A%0D%0AI've written a little bit about this before but this site is currently created using a local copy of Ghost and then converted to a static HTML site and deployed to GitHub pages.  This post will overview how I do that. First I'd like to%2E%2E%2E">Email</a>
				</li>
				<li>
					<a href="https://twitter.com/home?status=https://iyware.com/host-your-ghost-blog-on-github-pages/%20%23Ghost">Twitter</a>
				</li>
				<li>
					<a href="https://www.facebook.com/sharer/sharer.php?u=https://iyware.com/host-your-ghost-blog-on-github-pages/">Facebook</a>
				</li>
				<li>
					<a href="https://plus.google.com/share?url=https://iyware.com/host-your-ghost-blog-on-github-pages/">Google+</a>
				</li>
				<li>
					<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://iyware.com/host-your-ghost-blog-on-github-pages/&amp;title=Ghost%20on%20GitHub%20Pages%20With%20HTTrack&amp;summary=I've%20written%20a%20little%20bit%20about%20this%20before%20but%20this%20site%20is%20currently%20created%20using%20a%20local%20copy%20of%20Ghost%20and%20then%20converted%20to%20a%20static%20HTML%20site%20and%20deployed%20to%20GitHub%20pages.%20%20This%20post%20will%20overview%20how%20I%20do%20that.%20First%20I'd%20like%20to&amp;source=iyWare">LinkedIn</a>
				</li>
				















			</ul>
        </section>

        <footer class="post-footer vcard cf" role="contentinfo">
                	<div class="wrapper">
                	<a href="../author/danny/" class="author" style="background-image: url('../content/images/2015/03/dannywahl.jpg');">
                    	<img src="../content/images/2015/03/dannywahl.jpg" alt="Danny Wahl">
					</a>
					</div>
                <div class="author-info meta">
					<a href="../author/danny/" class="fn">Danny Wahl</a>
                    &nbsp;&bull;&nbsp;<span class="adr">天津</span>
                    &nbsp;&bull;&nbsp;<a class="site" href="https://iyware.com/">https://iyware.com</a>
                    <p class="bio">My name is Danny Wahl and I provide consulting in IT and education. I dabble in writing, programming, design, and ukulele playing. Post content licensed CC-BY-4.0</p>
                </div>
        </footer>
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'iyware';
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>
		<p style="text-align:center;">
			<small>Please enable JavaScript to view the <a href="https://disqus.com/home/forums/iyware/">comments powered by Disqus.</a></small>
		</p>
	</noscript>
	
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<ins class="adsbygoogle" style="display:block;width:320px;height:100px;margin:0 auto;" data-ad-client="ca-pub-5811335018322110" data-ad-slot="8562617448"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>  

    </article>
  

<footer class="footer-main cf">
	<p class="feed"><a href="https://iyware.com/rss">RSS Feed</a></p>
	<p class="description">
        <a class="title" href="https://iyware.com/">iyWare</a>
        <span>Things I Break</span>
    </p>
	<p class="copyright">&copy; 2015 <a href="https://iyware.com/">iyWare</a></p>
</footer>
    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

		<script type="text/javascript" src="../assets/js/prism.min543c.js?v=f30b9db75e"></script>
	
	<script type="text/javascript" src="../assets/js/jquery.swiftype.min543c.js?v=f30b9db75e"></script>
	<script type="text/javascript">
		$('<li class="nav-search-form"><form action="#" onsubmit="stSearch();return false;" autocomplete="on"><label id="nav-search-label" for="st-search-input">Search:</label><input id="search_submit" value="Search" type="submit"><input id="st-search-input" name="search" type="text" placeholder="search https://iyware.com"></form></li>').insertAfter(".nav-search");

		var stSearch = function(){
			var query = document.getElementById("st-search-input").value;
			window.location.href = "/search/#stq=" + query + "&stp=1";
		};

		var stAutoRenderFunction = function(document_type, item) {
			var titleEnd = item['title'].length - 9;
			var title = item['title'].substring(0,titleEnd);
			return '<p class="title">' + title + '</p>';
		};

		var stRenderFunction = function(documentType, item) {
			var titleEnd = item['title'].length - 9;
			var title = item['title'].substring(0,titleEnd);
			var header = '<header><h2><a class="st-search-result-link" href="' + item['url'] + '">' + title + '</a></h2></header>'
			var text = '<div class="text"><p>' + item['body'].substring(20,250) + '</p></div>';
			var continueReading = '<small class="continue"><a href="' +  item['url'] + '">Continue Reading</a></small>';
			return '<div class="loop"><article>' + header + text + continueReading + '</article></div>';
		};

		$("#st-search-input").swiftype({
			renderFunction: stAutoRenderFunction,
			resultLimit: 5,
			engineKey:"sg3kn6rAnozjxvM4k8nk"
		});
		$("#st-search-input").swiftypeSearch({
			renderFunction:stRenderFunction,
			perPage:4,
			engineKey:"sg3kn6rAnozjxvM4k8nk",
			resultContainingElement:"#st-results-container"
		});
		$("#st-search-input2").swiftype({
			renderFunction: stAutoRenderFunction,
			resultLimit: 5,
			engineKey: "sg3kn6rAnozjxvM4k8nk"
		});
		$("#st-search-input2").swiftypeSearch({
			renderFunction:stRenderFunction,
			perPage:4,
			engineKey:"sg3kn6rAnozjxvM4k8nk",
			resultContainingElement:"#st-results-container"
		});
	</script>
	<aside style="display:none;">
		<a href="../search/">search</a>
		<a href="../clients/">clients</a>
	</aside>
</body>

<!-- Mirrored from 127.0.0.1:2368/host-your-ghost-blog-on-github-pages/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Dec 2016 17:08:09 GMT -->
</html>
